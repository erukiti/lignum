'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var ws = _interopDefault(require('ws'));
var stacktraceJs = _interopDefault(require('stacktrace-js'));
var process$1 = _interopDefault(require('process'));
var path = _interopDefault(require('path'));
var os = _interopDefault(require('os'));
var fs = _interopDefault(require('fs'));

function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var putConsole_1 = createCommonjsModule(function (module) {
const isNode = typeof process$1 === 'object' && typeof process$1.versions === 'object' && !!process$1.versions.node;


const putConsole = log => {
    if (!isNode) {
        console.log(log.name, log.type, log.args);
        return
    }

    let source = '';
    let i = 0;
    while (i < log.stack.length) {
        const {fileName, lineNumber, columnNumber} = log.stack[i];
        if (fileName.indexOf(log.root) === 0) {
            const relative = fileName.substr(log.root.length + 1);
            if (relative.indexOf('node_modules/') !== 0) {
                source = [relative, lineNumber, columnNumber, ' '].join(':');
                break
            }
        }
        i++;
    }

    const message = log.args.map(obj => {
        if (obj === undefined) {
            return 'undefined'
        } else if (obj === null) {
            return 'null'
        } else if (typeof obj === 'object') {
            return JSON.stringify(obj)
        } else {
            return obj.toString()
        }
    }).join(' ');

    const at = typeof log.at === 'object' ? log.at.toLocaleTimeString() : log.at;

    let startColor = '';
    switch (log.type) {
        case 'info':
            startColor = '\x1b[36m';
            break
        case 'verbose':
            startColor = '\x1b[32m';
            break
        case 'debug':
            startColor = '\x1b[35m';
            break

        case 'warn':
            startColor = '\x1b[33m';
            break

        case 'error':
            startColor = '\x1b[31m';
            break
        }

    const logType = `${log.type}      `.substr(0, 7);

    process$1.stdout.write(`\x1b[m${log.name}.${startColor}${logType}\x1b[m \x1b[32m[${at}]\x1b[m ${source}${message}\n`);
};

module.exports = putConsole;
});

const isNode = typeof process === 'object' && typeof process.versions === 'object' && !!process.versions.node;

class Logger {
    constructor(opts) {
        this.name = opts.name;
        this.root = opts.root;

        const traces = stacktraceJs.getSync();
        if (isNode) {
            const path$$1 = path;
            const fs$$1 = fs;
            let i = 0;
            while (path$$1.dirname(traces[i].fileName) === __dirname) {
                i++;
            }
            const callerPath = path$$1.dirname(traces[i].fileName).split('/').filter(s => s !== '');
            while (callerPath.length > 0) {
                try {
                    const fn = path$$1.join('/', ...callerPath, 'package.json');
                    const {name} = JSON.parse(fs$$1.readFileSync(fn));
                    this.name = name;
                    this.root = path$$1.dirname(fn);
                    break
                } catch (e) {
                    callerPath.pop();
                }
            }
        }
        this.level = this._getLogLevel(opts.level || 'info');

        this.logs = [];
        this.isDisabled = opts.isDisabled;
        this.isWsOpened = false;
        this.state = 'init';

        this.isNode = typeof process === 'object';

        const flush = callback => {
            this.logs.forEach(callback);
            this.logs = [];
        };

        const flushConsole = () => {
            this.state = 'standalone';
            this.ws = null;
            flush(log => putConsole_1(log));
        };

        if (!this.isDisabled) {
            try {
                this.ws = new ws('ws://localhost:9999/');
                this.ws.on('open', () => {
                    this.state = 'opened';
                    flush(log => this.ws.send(JSON.stringify(log)));
                });
                this.ws.on('error', () => {
                    flushConsole();
                });
            } catch (e) {
                flushConsole();
            }
        }
    }

    setLevel(level) {
        this.level = this._getLogLevel(level);
    }

    _getLogLevel(level) {
        const result = ['error', 'warn', 'info', 'verbose', 'debug'].indexOf(level);
        if (result === -1) {
            return 2
        } else {
            return result
        }
    }

    _putLog(type, args) {
        if (this._getLogLevel(type) > this.level) {
            return
        }

        const log = {name: this.name, at: new Date(), root: this.root, type, args, stack: stacktraceJs.getSync()};
        switch (this.state) {
            case 'standalone': {
                putConsole_1(log);
                break
            }
            case 'opened': {
                this.ws.send(JSON.stringify(log));
                break
            }
            case 'init': {
                this.logs.push(log);
                break
            }
        }
    }

    info(...args) {
        this._putLog('info', args);
    }

    log(...args) {
        this._putLog('verbose', args);
    }
    verbose(...args) {
        this._putLog('verbose', args);
    }
    debug(...args) {
        this._putLog('debug', args);
    }

    error(...args) {
        this._putLog('error', args);
    }

    warn(...args) {
        this._putLog('warn', args);
    }
}

var logger = Logger;

var index = createCommonjsModule(function (module) {
let logger$$1 = null;

const getLogger = (opts = {}) => {
    if (!logger$$1) {
        logger$$1 = new logger(opts);
        logger$$1.verbose('logging start');
    }
    return logger$$1
};

module.exports = {getLogger};
});

var index_1 = index.getLogger;

exports['default'] = index;
exports.getLogger = index_1;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvcHV0LWNvbnNvbGUuanMiLCIuLi9zcmMvbG9nZ2VyLmpzIiwiLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHByb2Nlc3MgPSByZXF1aXJlKCdwcm9jZXNzJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKVxuXG5jb25zdCBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMgPT09ICdvYmplY3QnICYmICEhcHJvY2Vzcy52ZXJzaW9ucy5ub2RlXG5cblxuY29uc3QgcHV0Q29uc29sZSA9IGxvZyA9PiB7XG4gICAgaWYgKCFpc05vZGUpIHtcbiAgICAgICAgY29uc29sZS5sb2cobG9nLm5hbWUsIGxvZy50eXBlLCBsb2cuYXJncylcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHNvdXJjZSA9ICcnXG4gICAgbGV0IGkgPSAwXG4gICAgd2hpbGUgKGkgPCBsb2cuc3RhY2subGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHtmaWxlTmFtZSwgbGluZU51bWJlciwgY29sdW1uTnVtYmVyfSA9IGxvZy5zdGFja1tpXVxuICAgICAgICBpZiAoZmlsZU5hbWUuaW5kZXhPZihsb2cucm9vdCkgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlID0gZmlsZU5hbWUuc3Vic3RyKGxvZy5yb290Lmxlbmd0aCArIDEpXG4gICAgICAgICAgICBpZiAocmVsYXRpdmUuaW5kZXhPZignbm9kZV9tb2R1bGVzLycpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gW3JlbGF0aXZlLCBsaW5lTnVtYmVyLCBjb2x1bW5OdW1iZXIsICcgJ10uam9pbignOicpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpKytcbiAgICB9XG5cbiAgICBjb25zdCBtZXNzYWdlID0gbG9nLmFyZ3MubWFwKG9iaiA9PiB7XG4gICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuICd1bmRlZmluZWQnXG4gICAgICAgIH0gZWxzZSBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gJ251bGwnXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLnRvU3RyaW5nKClcbiAgICAgICAgfVxuICAgIH0pLmpvaW4oJyAnKVxuXG4gICAgY29uc3QgYXQgPSB0eXBlb2YgbG9nLmF0ID09PSAnb2JqZWN0JyA/IGxvZy5hdC50b0xvY2FsZVRpbWVTdHJpbmcoKSA6IGxvZy5hdFxuXG4gICAgbGV0IHN0YXJ0Q29sb3IgPSAnJ1xuICAgIHN3aXRjaCAobG9nLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgICAgICBzdGFydENvbG9yID0gJ1xceDFiWzM2bSdcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3ZlcmJvc2UnOlxuICAgICAgICAgICAgc3RhcnRDb2xvciA9ICdcXHgxYlszMm0nXG4gICAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdkZWJ1Zyc6XG4gICAgICAgICAgICBzdGFydENvbG9yID0gJ1xceDFiWzM1bSdcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgICAgICBzdGFydENvbG9yID0gJ1xceDFiWzMzbSdcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgc3RhcnRDb2xvciA9ICdcXHgxYlszMW0nXG4gICAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICBjb25zdCBsb2dUeXBlID0gYCR7bG9nLnR5cGV9ICAgICAgYC5zdWJzdHIoMCwgNylcblxuICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKGBcXHgxYlttJHtsb2cubmFtZX0uJHtzdGFydENvbG9yfSR7bG9nVHlwZX1cXHgxYlttIFxceDFiWzMybVske2F0fV1cXHgxYlttICR7c291cmNlfSR7bWVzc2FnZX1cXG5gKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHB1dENvbnNvbGVcbiIsImNvbnN0IFdlYlNvY2tldCA9IHJlcXVpcmUoJ3dzJylcbmNvbnN0IHN0ID0gcmVxdWlyZSgnc3RhY2t0cmFjZS1qcycpXG5jb25zdCBwdXRDb25zb2xlID0gcmVxdWlyZSgnLi9wdXQtY29uc29sZScpXG5cbmNvbnN0IGlzTm9kZSA9IHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyA9PT0gJ29iamVjdCcgJiYgISFwcm9jZXNzLnZlcnNpb25zLm5vZGVcblxuY2xhc3MgTG9nZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG9wdHMubmFtZVxuICAgICAgICB0aGlzLnJvb3QgPSBvcHRzLnJvb3RcblxuICAgICAgICBjb25zdCB0cmFjZXMgPSBzdC5nZXRTeW5jKClcbiAgICAgICAgaWYgKGlzTm9kZSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuICAgICAgICAgICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpXG4gICAgICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgICAgIHdoaWxlIChwYXRoLmRpcm5hbWUodHJhY2VzW2ldLmZpbGVOYW1lKSA9PT0gX19kaXJuYW1lKSB7XG4gICAgICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYWxsZXJQYXRoID0gcGF0aC5kaXJuYW1lKHRyYWNlc1tpXS5maWxlTmFtZSkuc3BsaXQoJy8nKS5maWx0ZXIocyA9PiBzICE9PSAnJylcbiAgICAgICAgICAgIHdoaWxlIChjYWxsZXJQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmbiA9IHBhdGguam9pbignLycsIC4uLmNhbGxlclBhdGgsICdwYWNrYWdlLmpzb24nKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7bmFtZX0gPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhmbikpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290ID0gcGF0aC5kaXJuYW1lKGZuKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyUGF0aC5wb3AoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxldmVsID0gdGhpcy5fZ2V0TG9nTGV2ZWwob3B0cy5sZXZlbCB8fCAnaW5mbycpXG5cbiAgICAgICAgdGhpcy5sb2dzID0gW11cbiAgICAgICAgdGhpcy5pc0Rpc2FibGVkID0gb3B0cy5pc0Rpc2FibGVkXG4gICAgICAgIHRoaXMuaXNXc09wZW5lZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuc3RhdGUgPSAnaW5pdCdcblxuICAgICAgICB0aGlzLmlzTm9kZSA9IHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0J1xuXG4gICAgICAgIGNvbnN0IGZsdXNoID0gY2FsbGJhY2sgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dzLmZvckVhY2goY2FsbGJhY2spXG4gICAgICAgICAgICB0aGlzLmxvZ3MgPSBbXVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmx1c2hDb25zb2xlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdzdGFuZGFsb25lJ1xuICAgICAgICAgICAgdGhpcy53cyA9IG51bGxcbiAgICAgICAgICAgIGZsdXNoKGxvZyA9PiBwdXRDb25zb2xlKGxvZykpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuaXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCgnd3M6Ly9sb2NhbGhvc3Q6OTk5OS8nKVxuICAgICAgICAgICAgICAgIHRoaXMud3Mub24oJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnb3BlbmVkJ1xuICAgICAgICAgICAgICAgICAgICBmbHVzaChsb2cgPT4gdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KGxvZykpKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhpcy53cy5vbignZXJyb3InLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZsdXNoQ29uc29sZSgpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBmbHVzaENvbnNvbGUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0TGV2ZWwobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5sZXZlbCA9IHRoaXMuX2dldExvZ0xldmVsKGxldmVsKVxuICAgIH1cblxuICAgIF9nZXRMb2dMZXZlbChsZXZlbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbJ2Vycm9yJywgJ3dhcm4nLCAnaW5mbycsICd2ZXJib3NlJywgJ2RlYnVnJ10uaW5kZXhPZihsZXZlbClcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiAyXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHV0TG9nKHR5cGUsIGFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldExvZ0xldmVsKHR5cGUpID4gdGhpcy5sZXZlbCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsb2cgPSB7bmFtZTogdGhpcy5uYW1lLCBhdDogbmV3IERhdGUoKSwgcm9vdDogdGhpcy5yb290LCB0eXBlLCBhcmdzLCBzdGFjazogc3QuZ2V0U3luYygpfVxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3N0YW5kYWxvbmUnOiB7XG4gICAgICAgICAgICAgICAgcHV0Q29uc29sZShsb2cpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ29wZW5lZCc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobG9nKSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnaW5pdCc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ3MucHVzaChsb2cpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluZm8oLi4uYXJncykge1xuICAgICAgICB0aGlzLl9wdXRMb2coJ2luZm8nLCBhcmdzKVxuICAgIH1cblxuICAgIGxvZyguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuX3B1dExvZygndmVyYm9zZScsIGFyZ3MpXG4gICAgfVxuICAgIHZlcmJvc2UoLi4uYXJncykge1xuICAgICAgICB0aGlzLl9wdXRMb2coJ3ZlcmJvc2UnLCBhcmdzKVxuICAgIH1cbiAgICBkZWJ1ZyguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuX3B1dExvZygnZGVidWcnLCBhcmdzKVxuICAgIH1cblxuICAgIGVycm9yKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5fcHV0TG9nKCdlcnJvcicsIGFyZ3MpXG4gICAgfVxuXG4gICAgd2FybiguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuX3B1dExvZygnd2FybicsIGFyZ3MpXG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IExvZ2dlclxuIiwiY29uc3QgTG9nZ2VyID0gcmVxdWlyZSgnLi9sb2dnZXInKVxuXG5sZXQgbG9nZ2VyID0gbnVsbFxuXG5jb25zdCBnZXRMb2dnZXIgPSAob3B0cyA9IHt9KSA9PiB7XG4gICAgaWYgKCFsb2dnZXIpIHtcbiAgICAgICAgbG9nZ2VyID0gbmV3IExvZ2dlcihvcHRzKVxuICAgICAgICBsb2dnZXIudmVyYm9zZSgnbG9nZ2luZyBzdGFydCcpXG4gICAgfVxuICAgIHJldHVybiBsb2dnZXJcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7Z2V0TG9nZ2VyfVxuIl0sIm5hbWVzIjpbInByb2Nlc3MiLCJzdCIsInBhdGgiLCJyZXF1aXJlJCQwIiwiZnMiLCJyZXF1aXJlJCQxIiwicHV0Q29uc29sZSIsIldlYlNvY2tldCIsImxvZ2dlciIsIkxvZ2dlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSUEsTUFBTSxNQUFNLEdBQUcsT0FBT0EsU0FBTyxLQUFLLFFBQVEsSUFBSSxPQUFPQSxTQUFPLENBQUMsUUFBUSxLQUFLLFFBQVEsSUFBSSxDQUFDLENBQUNBLFNBQU8sQ0FBQyxRQUFRLENBQUMsS0FBSTs7O0FBRzdHLE1BQU0sVUFBVSxHQUFHLEdBQUcsSUFBSTtJQUN0QixJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ1QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksRUFBQztRQUN6QyxNQUFNO0tBQ1Q7O0lBRUQsSUFBSSxNQUFNLEdBQUcsR0FBRTtJQUNmLElBQUksQ0FBQyxHQUFHLEVBQUM7SUFDVCxPQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0s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
