'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var ws = _interopDefault(require('ws'));
var stacktraceJs = _interopDefault(require('stacktrace-js'));
var process$1 = _interopDefault(require('process'));
var path = _interopDefault(require('path'));
var os = _interopDefault(require('os'));
var fs = _interopDefault(require('fs'));

function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var putConsole_1 = createCommonjsModule(function (module) {
const isNode = typeof process$1 === 'object' && typeof process$1.versions === 'object' && !!process$1.versions.node;


const putConsole = (log, isVerboseLevel = false) => {
    if (!isNode) {
        console.log(log.name, log.type, log.args);
        return
    }

    let source = '';
    if (isVerboseLevel) {
        let i = 0;
        while (i < log.stack.length) {
            const {fileName, lineNumber, columnNumber} = log.stack[i];
            if (fileName.indexOf(log.root) === 0) {
                const relative = fileName.substr(log.root.length + 1);
                if (relative.indexOf('node_modules/') !== 0) {
                    source = [relative, lineNumber, columnNumber, ' '].join(':');
                    break
                }
            }
            i++;
        }
    }

    const message = log.args.map(obj => {
        if (obj === undefined) {
            return 'undefined'
        } else if (obj === null) {
            return 'null'
        } else if (typeof obj === 'object') {
            return JSON.stringify(obj)
        } else {
            return obj.toString()
        }
    }).join(' ');

    const at = typeof log.at === 'object' ? log.at.toLocaleTimeString() : log.at;

    let startColor = '';
    switch (log.type) {
        case 'info':
            startColor = '\x1b[36m';
            break
        case 'verbose':
            startColor = '\x1b[32m';
            break
        case 'debug':
            startColor = '\x1b[35m';
            break

        case 'warn':
            startColor = '\x1b[33m';
            break

        case 'error':
            startColor = '\x1b[31m';
            break
    }

    const length = isVerboseLevel ? 7 : 5;
     
    const logType = `${log.type}      `.substr(0, length);
    const logName = isVerboseLevel ? `\x1b[m${log.name}.` : '';

    process$1.stdout.write(`${logName}${startColor}${logType}\x1b[m \x1b[32m[${at}]\x1b[m ${source}${message}\n`);
};

module.exports = putConsole;
});

const isNode = typeof process === 'object' && typeof process.versions === 'object' && !!process.versions.node;

class Logger {
    constructor(opts) {
        this.name = opts.name;
        this.root = opts.root;

        const traces = stacktraceJs.getSync();
        if (isNode) {
            const path$$1 = path;
            const fs$$1 = fs;
            let i = 0;
            while (path$$1.dirname(traces[i].fileName) === __dirname) {
                i++;
            }
            const callerPath = path$$1.dirname(traces[i].fileName).split('/').filter(s => s !== '');
            while (callerPath.length > 0) {
                try {
                    const fn = path$$1.join('/', ...callerPath, 'package.json');
                    const {name} = JSON.parse(fs$$1.readFileSync(fn));
                    this.name = name;
                    this.root = path$$1.dirname(fn);
                    break
                } catch (e) {
                    callerPath.pop();
                }
            }
        }
        this.setLevel(opts.level || 'info');
        this.isVerboseLevel = this.level >= this._getLogLevel('verbose');

        this.logs = [];
        this.isDisabled = opts.isDisabled;
        this.isWsOpened = false;
        this.state = 'init';

        this.isNode = typeof process === 'object';

        const flush = callback => {
            this.logs.forEach(callback);
            this.logs = [];
        };

        const flushConsole = () => {
            this.state = 'standalone';
            this.ws = null;
            flush(log => putConsole_1(log, this.isVerboseLevel));
        };

        if (!this.isDisabled) {
            try {
                this.ws = new ws('ws://localhost:9999/');
                this.ws.on('open', () => {
                    this.state = 'opened';
                    flush(log => this.ws.send(JSON.stringify(log)));
                });
                this.ws.on('error', () => {
                    flushConsole();
                });
            } catch (e) {
                flushConsole();
            }
        }
    }

    setLevel(level) {
        this.level = this._getLogLevel(level);
        this.isVerboseLevel = this.level >= this._getLogLevel('verbose');
    }

    _getLogLevel(level) {
        const result = ['error', 'warn', 'info', 'verbose', 'debug'].indexOf(level);
        if (result === -1) {
            return 2
        } else {
            return result
        }
    }

    _putLog(type, args) {
        if (this._getLogLevel(type) > this.level) {
            return
        }

        const log = {name: this.name, at: new Date(), root: this.root, type, args, stack: stacktraceJs.getSync()};
        switch (this.state) {
            case 'standalone': {
                putConsole_1(log, this.isVerboseLevel);
                break
            }
            case 'opened': {
                this.ws.send(JSON.stringify(log));
                break
            }
            case 'init': {
                this.logs.push(log);
                break
            }
        }
    }

    info(...args) {
        this._putLog('info', args);
    }

    log(...args) {
        this._putLog('verbose', args);
    }
    verbose(...args) {
        this._putLog('verbose', args);
    }
    debug(...args) {
        this._putLog('debug', args);
    }

    error(...args) {
        this._putLog('error', args);
    }

    warn(...args) {
        this._putLog('warn', args);
    }
}

var logger = Logger;

var index = createCommonjsModule(function (module) {
let logger$$1 = null;

const getLogger = (opts = {}) => {
    if (!logger$$1) {
        logger$$1 = new logger(opts);
        logger$$1.verbose('logging start');
    }
    return logger$$1
};

module.exports = {getLogger};
});

var index_1 = index.getLogger;

exports['default'] = index;
exports.getLogger = index_1;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvcHV0LWNvbnNvbGUuanMiLCIuLi9zcmMvbG9nZ2VyLmpzIiwiLi4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHByb2Nlc3MgPSByZXF1aXJlKCdwcm9jZXNzJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKVxuXG5jb25zdCBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMgPT09ICdvYmplY3QnICYmICEhcHJvY2Vzcy52ZXJzaW9ucy5ub2RlXG5cblxuY29uc3QgcHV0Q29uc29sZSA9IChsb2csIGlzVmVyYm9zZUxldmVsID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIWlzTm9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhsb2cubmFtZSwgbG9nLnR5cGUsIGxvZy5hcmdzKVxuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgc291cmNlID0gJydcbiAgICBpZiAoaXNWZXJib3NlTGV2ZWwpIHtcbiAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgIHdoaWxlIChpIDwgbG9nLnN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qge2ZpbGVOYW1lLCBsaW5lTnVtYmVyLCBjb2x1bW5OdW1iZXJ9ID0gbG9nLnN0YWNrW2ldXG4gICAgICAgICAgICBpZiAoZmlsZU5hbWUuaW5kZXhPZihsb2cucm9vdCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZSA9IGZpbGVOYW1lLnN1YnN0cihsb2cucm9vdC5sZW5ndGggKyAxKVxuICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZS5pbmRleE9mKCdub2RlX21vZHVsZXMvJykgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gW3JlbGF0aXZlLCBsaW5lTnVtYmVyLCBjb2x1bW5OdW1iZXIsICcgJ10uam9pbignOicpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtZXNzYWdlID0gbG9nLmFyZ3MubWFwKG9iaiA9PiB7XG4gICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuICd1bmRlZmluZWQnXG4gICAgICAgIH0gZWxzZSBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gJ251bGwnXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLnRvU3RyaW5nKClcbiAgICAgICAgfVxuICAgIH0pLmpvaW4oJyAnKVxuXG4gICAgY29uc3QgYXQgPSB0eXBlb2YgbG9nLmF0ID09PSAnb2JqZWN0JyA/IGxvZy5hdC50b0xvY2FsZVRpbWVTdHJpbmcoKSA6IGxvZy5hdFxuXG4gICAgbGV0IHN0YXJ0Q29sb3IgPSAnJ1xuICAgIHN3aXRjaCAobG9nLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgICAgICBzdGFydENvbG9yID0gJ1xceDFiWzM2bSdcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3ZlcmJvc2UnOlxuICAgICAgICAgICAgc3RhcnRDb2xvciA9ICdcXHgxYlszMm0nXG4gICAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdkZWJ1Zyc6XG4gICAgICAgICAgICBzdGFydENvbG9yID0gJ1xceDFiWzM1bSdcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgICAgICBzdGFydENvbG9yID0gJ1xceDFiWzMzbSdcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgc3RhcnRDb2xvciA9ICdcXHgxYlszMW0nXG4gICAgICAgICAgICBicmVha1xuICAgIH1cblxuICAgIGNvbnN0IGxlbmd0aCA9IGlzVmVyYm9zZUxldmVsID8gNyA6IDVcbiAgICAgXG4gICAgY29uc3QgbG9nVHlwZSA9IGAke2xvZy50eXBlfSAgICAgIGAuc3Vic3RyKDAsIGxlbmd0aClcbiAgICBjb25zdCBsb2dOYW1lID0gaXNWZXJib3NlTGV2ZWwgPyBgXFx4MWJbbSR7bG9nLm5hbWV9LmAgOiAnJ1xuXG4gICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoYCR7bG9nTmFtZX0ke3N0YXJ0Q29sb3J9JHtsb2dUeXBlfVxceDFiW20gXFx4MWJbMzJtWyR7YXR9XVxceDFiW20gJHtzb3VyY2V9JHttZXNzYWdlfVxcbmApXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcHV0Q29uc29sZVxuIiwiY29uc3QgV2ViU29ja2V0ID0gcmVxdWlyZSgnd3MnKVxuY29uc3Qgc3QgPSByZXF1aXJlKCdzdGFja3RyYWNlLWpzJylcbmNvbnN0IHB1dENvbnNvbGUgPSByZXF1aXJlKCcuL3B1dC1jb25zb2xlJylcblxuY29uc3QgaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zID09PSAnb2JqZWN0JyAmJiAhIXByb2Nlc3MudmVyc2lvbnMubm9kZVxuXG5jbGFzcyBMb2dnZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gb3B0cy5uYW1lXG4gICAgICAgIHRoaXMucm9vdCA9IG9wdHMucm9vdFxuXG4gICAgICAgIGNvbnN0IHRyYWNlcyA9IHN0LmdldFN5bmMoKVxuICAgICAgICBpZiAoaXNOb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG4gICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJylcbiAgICAgICAgICAgIGxldCBpID0gMFxuICAgICAgICAgICAgd2hpbGUgKHBhdGguZGlybmFtZSh0cmFjZXNbaV0uZmlsZU5hbWUpID09PSBfX2Rpcm5hbWUpIHtcbiAgICAgICAgICAgICAgICBpKytcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbGxlclBhdGggPSBwYXRoLmRpcm5hbWUodHJhY2VzW2ldLmZpbGVOYW1lKS5zcGxpdCgnLycpLmZpbHRlcihzID0+IHMgIT09ICcnKVxuICAgICAgICAgICAgd2hpbGUgKGNhbGxlclBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZuID0gcGF0aC5qb2luKCcvJywgLi4uY2FsbGVyUGF0aCwgJ3BhY2thZ2UuanNvbicpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHtuYW1lfSA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKGZuKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSBwYXRoLmRpcm5hbWUoZm4pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJQYXRoLnBvcCgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0TGV2ZWwob3B0cy5sZXZlbCB8fCAnaW5mbycpXG4gICAgICAgIHRoaXMuaXNWZXJib3NlTGV2ZWwgPSB0aGlzLmxldmVsID49IHRoaXMuX2dldExvZ0xldmVsKCd2ZXJib3NlJylcblxuICAgICAgICB0aGlzLmxvZ3MgPSBbXVxuICAgICAgICB0aGlzLmlzRGlzYWJsZWQgPSBvcHRzLmlzRGlzYWJsZWRcbiAgICAgICAgdGhpcy5pc1dzT3BlbmVkID0gZmFsc2VcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdpbml0J1xuXG4gICAgICAgIHRoaXMuaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnXG5cbiAgICAgICAgY29uc3QgZmx1c2ggPSBjYWxsYmFjayA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ3MuZm9yRWFjaChjYWxsYmFjaylcbiAgICAgICAgICAgIHRoaXMubG9ncyA9IFtdXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmbHVzaENvbnNvbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ3N0YW5kYWxvbmUnXG4gICAgICAgICAgICB0aGlzLndzID0gbnVsbFxuICAgICAgICAgICAgZmx1c2gobG9nID0+IHB1dENvbnNvbGUobG9nLCB0aGlzLmlzVmVyYm9zZUxldmVsKSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5pc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KCd3czovL2xvY2FsaG9zdDo5OTk5LycpXG4gICAgICAgICAgICAgICAgdGhpcy53cy5vbignb3BlbicsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdvcGVuZWQnXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoKGxvZyA9PiB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobG9nKSkpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB0aGlzLndzLm9uKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmx1c2hDb25zb2xlKClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGZsdXNoQ29uc29sZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRMZXZlbChsZXZlbCkge1xuICAgICAgICB0aGlzLmxldmVsID0gdGhpcy5fZ2V0TG9nTGV2ZWwobGV2ZWwpXG4gICAgICAgIHRoaXMuaXNWZXJib3NlTGV2ZWwgPSB0aGlzLmxldmVsID49IHRoaXMuX2dldExvZ0xldmVsKCd2ZXJib3NlJylcbiAgICB9XG5cbiAgICBfZ2V0TG9nTGV2ZWwobGV2ZWwpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWydlcnJvcicsICd3YXJuJywgJ2luZm8nLCAndmVyYm9zZScsICdkZWJ1ZyddLmluZGV4T2YobGV2ZWwpXG4gICAgICAgIGlmIChyZXN1bHQgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gMlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3B1dExvZyh0eXBlLCBhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXRMb2dMZXZlbCh0eXBlKSA+IHRoaXMubGV2ZWwpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbG9nID0ge25hbWU6IHRoaXMubmFtZSwgYXQ6IG5ldyBEYXRlKCksIHJvb3Q6IHRoaXMucm9vdCwgdHlwZSwgYXJncywgc3RhY2s6IHN0LmdldFN5bmMoKX1cbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdzdGFuZGFsb25lJzoge1xuICAgICAgICAgICAgICAgIHB1dENvbnNvbGUobG9nLCB0aGlzLmlzVmVyYm9zZUxldmVsKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdvcGVuZWQnOiB7XG4gICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KGxvZykpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2luaXQnOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dzLnB1c2gobG9nKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbmZvKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5fcHV0TG9nKCdpbmZvJywgYXJncylcbiAgICB9XG5cbiAgICBsb2coLi4uYXJncykge1xuICAgICAgICB0aGlzLl9wdXRMb2coJ3ZlcmJvc2UnLCBhcmdzKVxuICAgIH1cbiAgICB2ZXJib3NlKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5fcHV0TG9nKCd2ZXJib3NlJywgYXJncylcbiAgICB9XG4gICAgZGVidWcoLi4uYXJncykge1xuICAgICAgICB0aGlzLl9wdXRMb2coJ2RlYnVnJywgYXJncylcbiAgICB9XG5cbiAgICBlcnJvciguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuX3B1dExvZygnZXJyb3InLCBhcmdzKVxuICAgIH1cblxuICAgIHdhcm4oLi4uYXJncykge1xuICAgICAgICB0aGlzLl9wdXRMb2coJ3dhcm4nLCBhcmdzKVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBMb2dnZXJcbiIsImNvbnN0IExvZ2dlciA9IHJlcXVpcmUoJy4vbG9nZ2VyJylcblxubGV0IGxvZ2dlciA9IG51bGxcblxuY29uc3QgZ2V0TG9nZ2VyID0gKG9wdHMgPSB7fSkgPT4ge1xuICAgIGlmICghbG9nZ2VyKSB7XG4gICAgICAgIGxvZ2dlciA9IG5ldyBMb2dnZXIob3B0cylcbiAgICAgICAgbG9nZ2VyLnZlcmJvc2UoJ2xvZ2dpbmcgc3RhcnQnKVxuICAgIH1cbiAgICByZXR1cm4gbG9nZ2VyXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge2dldExvZ2dlcn1cbiJdLCJuYW1lcyI6WyJwcm9jZXNzIiwic3QiLCJwYXRoIiwicmVxdWlyZSQkMCIsImZzIiwicmVxdWlyZSQkMSIsInB1dENvbnNvbGUiLCJXZWJTb2NrZXQiLCJsb2dnZXIiLCJMb2dnZXIiXSwibWFwcGluZ3MiOiI7Ozs7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
